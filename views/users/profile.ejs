<% layout("layouts/boilerplate") %>


<div class="row justify-content-center">
    <div class="profile-card">
        <!-- Profile Picture -->
        <div class="profile-pic-container">
            <img
                    src="<%= currUser.profilePic.url %>"
                    alt="<%= currUser.username %>'s Profile Picture"
                    class="profile-pic">
            <div class="upload-overlay">
                <form action="/profile-pic/<%= currUser._id %>?_method=PUT" method="POST" enctype="multipart/form-data">
                    <input type="file" name="profilePic" class="hidden-input" onchange="this.form.submit()">
                    <span class="upload-text">Upload Picture</span>
                </form>
            </div>
        </div>

        <h4 class="user-name mt-3">
            <%= currUser.firstname %> <%= currUser.lastname %>
        </h4>
        <p class="user-username">
            ï¼ <%= currUser.username %>
        </p>

        <hr class="profile-divider">

        <p class="user-email text-muted">
            Email: <%= currUser.email %>
        </p>
        <p class="user-phone text-muted" style="text-decoration: none">
            Phone no: <%= currUser.phoneNo %>
        </p>



        <a href="/your-listings" class="mt-3 px-4 py-2" style="text-decoration: none">
                <button class="custom-button">
                    My Wanderlust
                </button>
            </a>
            <hr class="w-50 mx-auto my-3">


            <div class="d-flex justify-content-center gap-3">
                <a href="/<%= currUser._id %>/edit" style="text-decoration: none">
                    <button class="profile-edit-button">
                        <svg class="profile-edit-svgIcon" viewBox="0 0 512 512">
                            <path d="M410.3 231l11.3-11.3-33.9-33.9-62.1-62.1L291.7 89.8l-11.3 11.3-22.6 22.6L58.6 322.9c-10.4 10.4-18 23.3-22.2 37.4L1 480.7c-2.5 8.4-.2 17.5 6.1 23.7s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L387.7 253.7 410.3 231zM160 399.4l-9.1 22.7c-4 3.1-8.5 5.4-13.3 6.9L59.4 452l23-78.1c1.4-4.9 3.8-9.4 6.9-13.3l22.7-9.1v32c0 8.8 7.2 16 16 16h32zM362.7 18.7L348.3 33.2 325.7 55.8 314.3 67.1l33.9 33.9 62.1 62.1 33.9 33.9 11.3-11.3 22.6-22.6 14.5-14.5c25-25 25-65.5 0-90.5L453.3 18.7c-25-25-65.5-25-90.5 0zm-47.4 168l-144 144c-6.2 6.2-16.4 6.2-22.6 0s-6.2-16.4 0-22.6l144-144c6.2-6.2 16.4-6.2 22.6 0s6.2 16.4 0 22.6z"></path>
                        </svg>
                    </button>
                </a>
                <a href="/logout" style="text-decoration: none" onclick="return confirmLogout()">
                    <button class="logout-button">
                        <div class="sign"><svg viewBox="0 0 512 512"><path d="M377.9 105.9L500.7 228.7c7.2 7.2 11.3 17.1 11.3 27.3s-4.1 20.1-11.3 27.3L377.9 406.1c-6.4 6.4-15 9.9-24 9.9c-18.7 0-33.9-15.2-33.9-33.9l0-62.1-128 0c-17.7 0-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32l128 0 0-62.1c0-18.7 15.2-33.9 33.9-33.9c9 0 17.6 3.6 24 9.9zM160 96L96 96c-17.7 0-32 14.3-32 32l0 256c0 17.7 14.3 32 32 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-64 0c-53 0-96-43-96-96L0 128C0 75 43 32 96 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32z"></path></svg></div>
                        <div class="text">Logout</div>
                    </button>
                </a>
            </div>
    </div>
</div>

<style>
    .profile-card {
        max-width: 500px; /* Limit the width */
        width: 100%; /* Ensure it takes the available width */
        height: auto;
        min-height: 254px;
        border-radius: 30px;
        text-align: center;
        background: linear-gradient(45deg, rgba(16, 137, 211, 0.7) 0%, rgba(18, 177, 209, 0.6) 100%);
        box-shadow: rgba(50, 50, 93, 0.25) 0px 30px 50px -12px inset, rgba(0, 0, 0, 0.3) 0px 18px 26px -18px inset;
        padding: 20px;
        box-sizing: border-box;
        margin: 0 2rem; /* Margins on the sides for large screens */
        overflow-x: hidden; /* Prevent horizontal scrolling */
    }

    .row {
        display: flex;
        justify-content: center; /* Centers horizontally */
        align-items: center; /* Centers vertically */
        height: 80vh; /* Full viewport height for vertical centering */
    }

    @media (max-width: 768px) {
        .profile-card {
            margin: 0 1rem; /* Reduce margins for smaller screens */
            max-width: 90%; /* Ensure it takes 90% of the available width */
        }
    }

    @media (max-width: 576px) {
        .profile-card {
            margin: 0.5rem; /* Even smaller margins for very small screens */
            max-width: 95%; /* Ensure it doesn't overflow on very small screens */
        }
    }
    .user-name {
        font-size: 1.5rem;
    }
    .user-username {
        font-size: 1.2rem;
    }
    .user-email, .user-phone {
        font-size: 1rem;
    }

    @media (max-width: 768px) {
        .user-name {
            font-size: 1.3rem;
        }
        .user-username {
            font-size: 1.1rem;
        }
        .user-email, .user-phone {
            font-size: 0.9rem;
        }
    }

    @media (max-width: 480px) {
        .user-name {
            font-size: 1.1rem;
        }
        .user-username {
            font-size: 1rem;
        }
        .user-email, .user-phone {
            font-size: 0.875rem;
        }
    }

</style>

<script>
    function confirmLogout() {
        return confirm("Are you sure you want to log out?");
    }
</script>
